/*
  UX/UI improvements stylesheet
  - Accessible focus styles
  - Design tokens (colors, spacing, radius)
  - Reduced motion friendly transitions
  - Form controls and button polish
  - Responsive layout helpers
  - To‑Do/Dashboard common components
*/

:root {
  --color-bg: #0f172a;           /* slate-900 */
  --color-surface: #111827;      /* gray-900 */
  --color-elevated: #0b1220;     /* deep surface */
  --color-text: #e5e7eb;         /* gray-200 */
  --color-muted: #9ca3af;        /* gray-400 */
  --color-border: #1f2937;       /* gray-800 */
  --color-accent: #06b6d4;       /* cyan-500 */
  --color-accent-contrast: #002028;
  --color-danger: #ef4444;       /* red-500 */
  --color-success: #22c55e;      /* green-500 */

  --radius-sm: 6px;
  --radius-md: 10px;
  --radius-lg: 14px;

  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-8: 32px;

  --shadow-sm: 0 1px 2px rgba(0,0,0,.2);
  --shadow-md: 0 6px 18px rgba(0,0,0,.35);
  --shadow-lg: 0 12px 32px rgba(0,0,0,.45);

  --focus-ring: 0 0 0 3px rgba(6,182,212,.35);
  --focus-outline: 2px solid var(--color-accent);

  --transition-fast: 120ms cubic-bezier(.2,.8,.2,1);
  --transition: 180ms cubic-bezier(.2,.8,.2,1);
}

@media (prefers-color-scheme: light) {
  :root {
    --color-bg: #f8fafc;           /* slate-50 */
    --color-surface: #ffffff;      /* white */
    --color-elevated: #ffffff;
    --color-text: #0f172a;         /* slate-900 */
    --color-muted: #475569;        /* slate-600 */
    --color-border: #e5e7eb;       /* gray-200 */
    --focus-ring: 0 0 0 3px rgba(6,182,212,.25);
    --shadow-sm: 0 1px 2px rgba(2,6,23,.06);
    --shadow-md: 0 8px 24px rgba(2,6,23,.08);
    --shadow-lg: 0 14px 42px rgba(2,6,23,.12);
  }
}

/* Base and reset (non-destructive) */
*, *::before, *::after { box-sizing: border-box; }
html { -webkit-text-size-adjust: 100%; }
body {
  margin: 0;
  background: var(--color-bg);
  color: var(--color-text);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  line-height: 1.5;
  text-rendering: optimizeLegibility;
}

img, svg, video, canvas { display: block; max-width: 100%; }
input, button, textarea, select { font: inherit; color: inherit; }

/* Focus visibility */
:focus { outline: none; }
:focus-visible {
  outline: var(--focus-outline);
  outline-offset: 2px;
  box-shadow: var(--focus-ring);
}

/* Reduced motion friendly */
@media (prefers-reduced-motion: reduce) {
  * { animation-duration: 0.001ms !important; animation-iteration-count: 1 !important; transition-duration: 0.001ms !important; scroll-behavior: auto !important; }
}

/* Utilities */
.container { width: min(1100px, 100% - 32px); margin-inline: auto; }
.surface { background: var(--color-surface); border: 1px solid var(--color-border); border-radius: var(--radius-lg); box-shadow: var(--shadow-md); }
.elevated { background: var(--color-elevated); border-radius: var(--radius-md); box-shadow: var(--shadow-lg); }
.muted { color: var(--color-muted); }
.sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }

/* Buttons */
.btn {
  display: inline-flex; align-items: center; gap: 10px;
  padding: 10px 14px; border-radius: var(--radius-md);
  border: 1px solid transparent; background: var(--color-accent); color: white;
  cursor: pointer; transition: transform var(--transition), box-shadow var(--transition), background var(--transition);
}
.btn:hover { transform: translateY(-1px); box-shadow: var(--shadow-md); }
.btn:active { transform: translateY(0); box-shadow: var(--shadow-sm); }
.btn:disabled { opacity: .6; cursor: not-allowed; }
.btn--ghost { background: transparent; color: var(--color-text); border-color: var(--color-border); }
.btn--danger { background: var(--color-danger); }

/* Inputs */
.field { display: grid; gap: 6px; }
.input, .select, .textarea {
  width: 100%; padding: 10px 12px; border-radius: var(--radius-md);
  background: var(--color-elevated); border: 1px solid var(--color-border);
}
.input::placeholder, .textarea::placeholder { color: var(--color-muted); }
.input:disabled { opacity: .6; cursor: not-allowed; }

/* Checkbox row */
.check {
  appearance: none; width: 18px; height: 18px; border-radius: 4px;
  border: 1px solid var(--color-border); background: var(--color-elevated);
  display: grid; place-items: center; cursor: pointer; transition: background var(--transition), border-color var(--transition);
}
.check:checked { background: var(--color-accent); border-color: var(--color-accent); }
.check:checked::after { content: ""; width: 10px; height: 10px; clip-path: polygon(14% 44%, 0 65%, 50% 100%, 100% 16%, 80% 0, 43% 62%); background: white; display: block; }

/* To‑Do list elements (class-based to avoid conflicts) */
.todo-list { list-style: none; padding: 0; margin: 0; display: grid; gap: 8px; }
.todo-item { display: grid; grid-template-columns: 24px 1fr auto; align-items: center; gap: 12px; padding: 10px 12px; border: 1px solid var(--color-border); border-radius: var(--radius-md); background: var(--color-surface); }
.todo-title { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.todo-item.is-completed .todo-title { color: var(--color-muted); text-decoration: line-through; }
.todo-actions { display: inline-flex; gap: 6px; }
.todo-actions .btn { padding: 8px 10px; }

/* Filters / tabs */
.filters { display: flex; gap: 8px; flex-wrap: wrap; }
.filter {
  padding: 6px 10px; border-radius: var(--radius-sm); border: 1px solid var(--color-border);
  background: transparent; color: var(--color-text); cursor: pointer; transition: background var(--transition), color var(--transition);
}
.filter[aria-pressed="true"] { background: var(--color-accent); color: white; border-color: transparent; }

/* Toasts / messages */
.toast-area { position: fixed; inset-block-start: 16px; inset-inline: 0; display: grid; gap: 8px; place-items: center; pointer-events: none; z-index: 50; }
.toast { pointer-events: auto; background: var(--color-elevated); color: var(--color-text); border: 1px solid var(--color-border); border-radius: var(--radius-md); padding: 10px 14px; box-shadow: var(--shadow-md); }
.toast--success { border-color: color-mix(in oklab, var(--color-success), transparent 70%); }
.toast--error { border-color: color-mix(in oklab, var(--color-danger), transparent 70%); }

/* Cards grid for dashboard */
.cards { display: grid; gap: 16px; grid-template-columns: repeat(12, 1fr); }
.card { grid-column: span 12; padding: 16px; border-radius: var(--radius-lg); background: var(--color-surface); border: 1px solid var(--color-border); box-shadow: var(--shadow-sm); }
@media (min-width: 640px) { .card.sm-6 { grid-column: span 6; } }
@media (min-width: 768px) { .card.md-4 { grid-column: span 4; } .card.md-6 { grid-column: span 6; } }
@media (min-width: 1024px){ .card.lg-3 { grid-column: span 3; } .card.lg-4 { grid-column: span 4; } }

/* Header / App bar */
.appbar { display: flex; align-items: center; justify-content: space-between; gap: 12px; padding: 12px 0; }
.appbar-title { font-weight: 700; letter-spacing: .2px; }

/* Empty state */
.empty { text-align: center; color: var(--color-muted); padding: 24px; border: 1px dashed var(--color-border); border-radius: var(--radius-md); }

/* Table styles (for finance dashboard) */
.table { width: 100%; border-collapse: separate; border-spacing: 0; }
.table th, .table td { text-align: left; padding: 10px 12px; }
.table thead th { position: sticky; top: 0; background: var(--color-surface); border-bottom: 1px solid var(--color-border); z-index: 1; }
.table tbody tr { background: var(--color-surface); }
.table tbody tr:not(:last-child) td { border-bottom: 1px solid var(--color-border); }
.table tbody tr:hover { background: color-mix(in oklab, var(--color-surface), var(--color-accent) 6%); }

/* Helper chips */
.chip { display: inline-flex; align-items: center; gap: 8px; padding: 4px 8px; border-radius: 999px; border: 1px solid var(--color-border); background: var(--color-elevated); color: var(--color-text); }
.chip--success { border-color: color-mix(in oklab, var(--color-success), transparent 60%); }
.chip--danger { border-color: color-mix(in oklab, var(--color-danger), transparent 60%); }

/* Footer */
.footer { color: var(--color-muted); font-size: .9rem; padding: 16px 0; }

