import{c as g,r as c,j as e,P as D,b as w,u as $,d as X,a as W,e as Z,f as J,v as K,t as x,g as P,B as C,S,I as Q,E as Y}from"./index-Cte6o1Cd.js";import{C as ee,a as ae,b as se,d as te,c as re}from"./card-BTxUsqQO.js";import{u as ne,I as T,S as M,a as _,b as E,c as R,d as q}from"./select-DMIChyb2.js";import{B as I,C as ce}from"./badge-tBruI666.js";import{T as ie}from"./trending-up-DF9ahxUY.js";import{T as oe}from"./trending-down-BDL8dSP1.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],A=g("circle-plus",le);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ue=g("credit-card",de);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],pe=g("dollar-sign",me);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],xe=g("file-text",he);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],fe=g("repeat",ge);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],be=g("sparkles",ve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],je=g("tag",ye);var Ne="Label",H=c.forwardRef((r,a)=>e.jsx(D.label,{...r,ref:a,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||((n=r.onMouseDown)==null||n.call(r,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));H.displayName=Ne;var we=H;function o({className:r,...a}){return e.jsx(we,{"data-slot":"label",className:w("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...a})}function ke({className:r,...a}){return e.jsx("textarea",{"data-slot":"textarea",className:w("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),...a})}var k="Switch",[Ce,$e]=W(k),[Se,Te]=Ce(k),z=c.forwardRef((r,a)=>{const{__scopeSwitch:t,name:i,checked:n,defaultChecked:f,required:u,disabled:l,value:m="on",onCheckedChange:b,form:d,...y}=r,[p,v]=c.useState(null),s=$(a,N=>v(N)),h=c.useRef(!1),F=p?d||!!p.closest("form"):!0,[j,U]=X({prop:n,defaultProp:f??!1,onChange:b,caller:k});return e.jsxs(Se,{scope:t,checked:j,disabled:l,children:[e.jsx(D.button,{type:"button",role:"switch","aria-checked":j,"aria-required":u,"data-state":V(j),"data-disabled":l?"":void 0,disabled:l,value:m,...y,ref:s,onClick:Z(r.onClick,N=>{U(G=>!G),F&&(h.current=N.isPropagationStopped(),h.current||N.stopPropagation())})}),F&&e.jsx(L,{control:p,bubbles:!h.current,name:i,value:m,checked:j,required:u,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});z.displayName=k;var B="SwitchThumb",O=c.forwardRef((r,a)=>{const{__scopeSwitch:t,...i}=r,n=Te(B,t);return e.jsx(D.span,{"data-state":V(n.checked),"data-disabled":n.disabled?"":void 0,...i,ref:a})});O.displayName=B;var Me="SwitchBubbleInput",L=c.forwardRef(({__scopeSwitch:r,control:a,checked:t,bubbles:i=!0,...n},f)=>{const u=c.useRef(null),l=$(u,f),m=ne(t),b=J(a);return c.useEffect(()=>{const d=u.current;if(!d)return;const y=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(y,"checked").set;if(m!==t&&v){const s=new Event("click",{bubbles:i});v.call(d,t),d.dispatchEvent(s)}},[m,t,i]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...n,tabIndex:-1,ref:l,style:{...n.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});L.displayName=Me;function V(r){return r?"checked":"unchecked"}var _e=z,Ee=O;function Re({className:r,...a}){return e.jsx(_e,{"data-slot":"switch",className:w("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...a,children:e.jsx(Ee,{"data-slot":"switch-thumb",className:w("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function He({onAddTransaction:r}){const[a,t]=c.useState({type:"expense",amount:"",category:"",description:"",date:new Date().toISOString().split("T")[0],recurrence:"none",recurrenceFrequency:"",installments:""}),[i,n]=c.useState(!1),[f,u]=c.useState(!1),l=Q,m=Y,b=[{value:"none",label:"Única"},{value:"recorrente",label:"Recorrente"},{value:"parcelada",label:"Parcelada"}],d=[{value:"semanal",label:"Semanal"},{value:"mensal",label:"Mensal"},{value:"anual",label:"Anual"}],y=c.useCallback(async()=>{if(!K(a.amount)){x.error("Valor inválido",{description:"Digite um valor válido maior que zero"});return}if(!a.category){x.error("Categoria obrigatória",{description:"Selecione uma categoria para a transação"});return}if(!a.description.trim()){x.error("Descrição obrigatória",{description:"Digite uma descrição para a transação"});return}if(a.recurrence==="recorrente"&&!a.recurrenceFrequency){x.error("Frequência obrigatória",{description:"Selecione a frequência da recorrência"});return}if(a.recurrence==="parcelada"&&(!a.installments||a.installments<2)){x.error("Parcelas inválidas",{description:"Digite um número válido de parcelas (mínimo 2)"});return}n(!0);try{const s=parseFloat(a.amount.replace(/[^\d,]/g,"").replace(",",".")),h={...a,amount:s,id:Date.now().toString(),createdAt:new Date().toISOString()};await r(h),x.success("Transação adicionada!",{description:`${a.type==="income"?"Receita":"Despesa"} de ${P(a.amount)} cadastrada com sucesso`,action:{label:"Ver transações",onClick:()=>console.log("Navigate to transactions")}}),t({type:"expense",amount:"",category:"",description:"",date:new Date().toISOString().split("T")[0],recurrence:"none",recurrenceFrequency:"",installments:""})}catch{x.error("Erro ao adicionar transação",{description:"Tente novamente em alguns instantes"})}finally{n(!1)}},[a,r]),p=s=>{t({...a,type:s,category:""})},v=s=>{const h=P(s);t({...a,amount:h})};return e.jsxs(ee,{className:"max-w-2xl mx-auto",children:[e.jsxs(ae,{children:[e.jsxs(se,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:e.jsx(A,{className:"h-5 w-5 text-primary"})}),"Nova Transação"]}),e.jsx(te,{children:"Registre uma nova receita ou despesa no seu controle financeiro"}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[e.jsx(Re,{id:"advanced-mode",checked:f,onCheckedChange:u}),e.jsx(o,{htmlFor:"advanced-mode",className:"text-sm",children:"Modo avançado"}),e.jsxs(I,{variant:"secondary",className:"text-xs",children:[e.jsx(be,{className:"h-3 w-3 mr-1"}),"Opções extras"]})]})]}),e.jsxs(re,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(o,{className:"text-base font-medium",children:"Tipo da Transação"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(C,{type:"button",variant:a.type==="income"?"default":"outline",className:`h-20 flex-col gap-2 ${a.type==="income"?"bg-emerald-600 hover:bg-emerald-700":""}`,onClick:()=>p("income"),children:[e.jsx(ie,{className:"h-6 w-6"}),e.jsx("span",{children:"Receita"})]}),e.jsxs(C,{type:"button",variant:a.type==="expense"?"default":"outline",className:`h-20 flex-col gap-2 ${a.type==="expense"?"bg-red-600 hover:bg-red-700":""}`,onClick:()=>p("expense"),children:[e.jsx(oe,{className:"h-6 w-6"}),e.jsx("span",{children:"Despesa"})]})]})]}),e.jsx(S,{}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"amount",className:"flex items-center gap-2",children:[e.jsx(pe,{className:"h-4 w-4"}),"Valor"]}),e.jsx(T,{id:"amount",type:"text",inputMode:"decimal",placeholder:"R$ 0,00",value:a.amount,onChange:s=>v(s.target.value),className:"text-lg font-medium"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"category",className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-4 w-4"}),"Categoria"]}),e.jsxs(M,{value:a.category,onValueChange:s=>t({...a,category:s}),children:[e.jsx(_,{children:e.jsx(E,{placeholder:"Selecione a categoria"})}),e.jsx(R,{children:(a.type==="income"?l:m).map(s=>e.jsx(q,{value:s,children:s},s))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"description",className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-4 w-4"}),"Descrição"]}),e.jsx(ke,{id:"description",placeholder:"Descreva a transação (ex: Salário mensal, Supermercado, etc.)",value:a.description,onChange:s=>t({...a,description:s.target.value}),className:"min-h-[60px]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"date",className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-4 w-4"}),"Data"]}),e.jsx(T,{id:"date",type:"date",value:a.date,onChange:s=>t({...a,date:s.target.value})})]}),f&&e.jsxs(e.Fragment,{children:[e.jsx(S,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"h-4 w-4"}),e.jsx(o,{className:"text-base font-medium",children:"Recorrência"})]}),e.jsxs(M,{value:a.recurrence,onValueChange:s=>t({...a,recurrence:s,recurrenceFrequency:"",installments:""}),children:[e.jsx(_,{children:e.jsx(E,{placeholder:"Tipo de recorrência"})}),e.jsx(R,{children:b.map(s=>e.jsx(q,{value:s.value,children:s.label},s.value))})]}),a.recurrence==="recorrente"&&e.jsxs("div",{className:"ml-6 space-y-2",children:[e.jsx(o,{htmlFor:"frequency",children:"Frequência"}),e.jsxs(M,{value:a.recurrenceFrequency,onValueChange:s=>t({...a,recurrenceFrequency:s}),children:[e.jsx(_,{children:e.jsx(E,{placeholder:"Selecione a frequência"})}),e.jsx(R,{children:d.map(s=>e.jsx(q,{value:s.value,children:s.label},s.value))})]})]}),a.recurrence==="parcelada"&&e.jsxs("div",{className:"ml-6 space-y-2",children:[e.jsxs(o,{htmlFor:"installments",className:"flex items-center gap-2",children:[e.jsx(ue,{className:"h-4 w-4"}),"Número de parcelas"]}),e.jsx(T,{id:"installments",type:"number",min:"2",max:"60",value:a.installments,onChange:s=>t({...a,installments:s.target.value}),placeholder:"Ex: 12"})]})]})]}),e.jsx(S,{}),e.jsx(C,{onClick:y,className:"w-full h-12 text-base",disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"h-5 w-5 mr-2"}),"Adicionar Transação"]})}),a.amount&&a.category&&a.description&&e.jsxs("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg border-2 border-dashed border-muted-foreground/25",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx(I,{variant:"outline",className:"text-xs",children:"Preview"})}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Tipo:"}),e.jsx("span",{className:a.type==="income"?"text-emerald-600":"text-red-600",children:a.type==="income"?"Receita":"Despesa"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Valor:"}),e.jsxs("span",{className:"font-medium",children:["R$ ",a.amount]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Categoria:"}),e.jsx("span",{children:a.category})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Descrição:"}),e.jsx("span",{className:"truncate max-w-[150px]",children:a.description})]})]})]})]})]})}export{He as default};
